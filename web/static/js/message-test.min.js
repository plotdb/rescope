var msghdr;window.onmessage=function(e){var o=e.source===window;return console.log("%c[message-test] window.onmessage is called.%c\n>>> evt.source == window? <%c"+o+"%c>\n>>> evt.data.trigger? <"+e.data.trigger+">","color:#099","color:black","color:"+(o?"#3b3":"#f00"),"color:black")},window.parent.onmessage=function(e){var o=e.source===window;return console.log("%c[message-test] parent.onmessage called.%c\n>>> evt.source == window? <%c"+o+"%c>\n>>> evt.data.trigger? <"+e.data.trigger+">","color:#099","color:black","color:"+(o?"#3b3":"#f00"),"color:black")},window.addEventListener("message",msghdr=function(e){var o=e.source===window;return console.log("%c[message-test] addEventListener called.%c\n>>> evt.source == window? <%c"+o+"%c>\n>>> evt.data.trigger? <"+e.data.trigger+">","color:#099","color:black","color:"+(o?"#3b3":"#f00"),"color:black")}),window.messageTest={fire:function(){return window.postMessage({source:"message-test",trigger:"message-test-exported-function"})},revoke:function(){return console.log("%c[message-test] Listener revoked\n`addEventListener called` shall not show again.","color:#099"),window.removeEventListener("message",msghdr)}},window.postMessage({source:"message-test",trigger:"postMessage"});